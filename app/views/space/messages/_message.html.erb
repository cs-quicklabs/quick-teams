<% if policy([message.space, message]).show? %>
  <%= turbo_frame_tag dom_id(message) do %>
    <li class=" py-4 border-b border-gray-200 ">
      <% if  message.published? %>
        <a href="<%= space_message_path(message.space, message) %>" class=" focus:outline-none">
           <div class="flex flex-col ">
        <% else %>
          <a href="<%= edit_space_message_path(message.space, message) %>" class=" focus:outline-none">
           <div class="flex flex-col " data-controller="swap" data-action="mouseenter->swap#mouseenter mouseleave->swap#mouseleave">
          <% end %>
              <div class="flex justify-between">
                <div class="hover:underline inline-flex space-x-2">
                  <h3 class="text-base font-medium line-clamp-1 flex-auto"  >
                    <%= highlight_hashtag(message.title.upcase_first) %>
                  </h3>
                </div>
                <div class=""  data-swap-target="text" >
                  <% if !message.published? %>
                    <span class="inline-flex items-center ml-2 px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800"> Draft</span>
                  <% end %>
                </div>
              </div>
              <span class="whitespace-nowrap text-gray-500 text-sm font-normal  flex-none" style="">
                <%= message.user.decorate.display_name %> on <%= display_date(message.created_at) %>
              </span>
            </div>
          </a>
        </li>
      <% end %>
    <% end %>
